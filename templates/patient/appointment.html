<h1>Book Appointment with Dr. {{ doctor.first_name }} {{ doctor.last_name }}</h1>

<form method="POST">
    <label>Select an available slot:</label><br>
    {% for day, slots in available_slots.items() %}
        <h4>{{ day.strftime('%A, %d %B %Y') }}</h4>
        {% for slot in slots %}
            <label>
                <input type="radio" name="appointment_datetime" value="{{ slot.isoformat() }}" required>
                {{ slot.strftime('%I:%M %p') }}
            </label><br>
        {% endfor %}
    {% else %}
        <p>No available slots found.</p>
    {% endfor %}
    
    <br>
    <label for="reason">Reason for Visit:</label><br>
    <textarea name="reason" id="reason" required></textarea><br><br>
    
    <button type="submit">Book Appointment</button>
</form>